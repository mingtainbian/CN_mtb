<link href="https://freeerror.org/assets/favicon-wk3kytxr.png" rel="shortcut icon">
<title>明天扁-instant</title>
<body> 
Hello World!
 <style>
        body {
            background-color: #000;
            margin: 0;
            padding: 0;
            overflow: hidden;
            text-align: center;
        }
        .hidden {
            display: none;
        }
        #display {
            margin: auto;
        }
    </style>
</head>

<body>
    <canvas id="cvs" class="hidden" width="1980" height="1080"></canvas>
    <canvas id="screenImage" class="hidden" width="234" height="357"></canvas>
    <canvas id="rili" class="hidden" width="600" height="600"></canvas>
    <canvas id="display"></canvas>
    <script>
        var cvs = document.getElementById("cvs");
        var ctx = cvs.getContext("2d");
        var display = document.getElementById("display");
        var displayCtx = display.getContext("2d");
        var screenImage = document.getElementById("screenImage");
        var screenImageCtx = screenImage.getContext("2d");
        var rili = document.getElementById("rili");
        var riliCtx = rili.getContext("2d");
        var songInfo = {};
        var AllTimeBak = 0;
        var NowBak = 0;
        var DrawWarning = false;
        function updateSongInfo() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', "http://127.0.0.1:62333/BGMName", true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200 || xhr.status == 304) {
                    songInfo = JSON.parse(xhr.responseText);
                    if (songInfo.AllTime <= 0)
                        songInfo.AllTime = AllTimeBak;
                    if (songInfo.Now <= 0)
                        songInfo.Now = NowBak;
                    AllTimeBak = songInfo.AllTime;
                    NowBak = songInfo.Now;
                    DrawWarning = false;
                } else if(xhr.readyState == 4 && xhr.status != 200) {
                    DrawWarning = true;
                }
            };
            xhr.send();
        }
        // 果然还是复制别人的轮子这种东西最刺激啦 出处：https://blog.csdn.net/u012601195/article/details/47860617
